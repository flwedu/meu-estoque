model Order {
    id          String      @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
    createdAt   DateTime    @default(now()) @map("created_at") @db.Timestamptz
    updatedAt   DateTime    @default(now()) @map("updated_at") @db.Timestamptz
    userId      String      @map("user_id") @db.Uuid
    user        User        @relation(fields: [userId], references: [id])
    deliveredAt DateTime?   @map("delivered_at") @db.Timestamptz
    items       OrderItem[]

    @@map("orders")
}

model OrderItem {
    id        String  @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
    orderId   String  @map("order_id") @db.Uuid
    order     Order   @relation(fields: [orderId], references: [id])
    productId String  @map("product_id") @db.Uuid
    product   Product @relation(fields: [productId], references: [id])
}
